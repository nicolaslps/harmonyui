{% extends 'base.html.twig' %}

{%- block seo_title -%}
    {{- page.title|trans|capitalize -}} {{ ' |' }} {{- parent() -}}
{% endblock %}
{%- block seo_description -%}
    {{- page.description|trans|capitalize -}} {{ ' |' }} {{- parent() -}}
{%- endblock -%}

{% block seo_robots %}
    {% if page.isPublished %}
        {{ parent() }}
    {% else %}
        noindex, nofollow
    {% endif %}
{% endblock %}

{% block seo_canonical %}{{ url('app_docs', {section: page.sectionSlug, page: page.pageSlug}) }}{% endblock %}

{% block body %}
    <div class="flex w-full h-[calc(100vh-4rem)] flex-1 items-start px-0 lg:grid lg:grid-cols-[16rem_minmax(0,1fr)]"
         data-controller="docs--page-content">
        <div class="w-64 flex-col sticky top-16 z-30 hidden h-[calc(100vh-4rem)] overflow-y-auto overscroll-none bg-transparent lg:flex">
            <div class="p-6">
                <twig:Layout:Doc:Sidebar :sidebar="sidebar"/>
            </div>
        </div>
        <div class="h-full w-full">
            <div data-slot="docs" class="flex items-stretch text-base xl:w-full h-full">
                <div class="flex min-w-0 flex-1 flex-col overflow-y-auto pt-4 px-6 lg:px-0" data-docs--page-content-target="content">
                    <div class="max-w-4xl mx-auto w-full pb-36">
                        <twig:Layout:Doc:PageContent
                            :title="page.title"
                            :description="page.description"
                        >
                            {{ include(page.template) }}
                        </twig:Layout:Doc:PageContent>
                    </div>
                </div>
                <div
                    class="sticky top-16 z-30 ml-auto hidden h-fit max-h-[calc(100vh-4rem)] w-72 flex-col gap-4 overflow-y-auto overscroll-none pb-8 xl:flex">
                    <div class="p-6">
                        <div class="mb-8">
                            <h4 class="text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4">
                                On this page
                            </h4>
                            <nav data-docs--page-content-target="nav" class="space-y-1">
                            </nav>

                            <template data-docs--page-content-target="noHeadingsTemplate">
                                <p class="text-sm text-gray-400 italic">No headings found</p>
                            </template>

                            <template data-docs--page-content-target="tocContainerTemplate">
                                <div class="pr-4 border-l border-gray-200">
                                    <ul></ul>
                                </div>
                            </template>

                            <template data-docs--page-content-target="h2LinkTemplate">
                                <li class="mt-1.5 first:mt-0 py-0.5">
                                    <a href="#"
                                       class="toc-link inline-block border-l-4 border-transparent pl-4 text-sm text-gray-700 hover:border-gray-300 hover:text-gray-900 transition-all duration-100 data-[active=true]:border-primary-500"
                                       data-heading-id="">
                                    </a>
                                </li>
                            </template>

                            <template data-docs--page-content-target="h3LinkTemplate">
                                <li class="py-0.5">
                                    <a href="#"
                                       class="toc-link inline-block border-l-4 border-transparent pl-8 text-sm text-gray-600 hover:border-gray-300 hover:text-gray-900 transition-all duration-100 data-[active=true]:border-primary-500"
                                       data-heading-id="">
                                    </a>
                                </li>
                            </template>

                            <template data-docs--page-content-target="h3ContainerTemplate">
                                <ul class="mt-2"></ul>
                            </template>
                        </div>
                        <div
                            class="bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg p-4 border border-primary-200 w-full aspect-square">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
